<% layout('layout') -%>
<% let title = 'All Pets' %>

<div class="header-section">
    <h2>My Pets</h2>
    <a href="/pets/add" class="btn btn-primary">
        <i class="fas fa-plus"></i> Add New Pet
    </a>
</div>

<% if (pets.length === 0) { %>
    <div class="empty-state">
        <i class="fas fa-paw fa-3x"></i>
        <h3>No pets yet</h3>
        <p>Add your first pet to start tracking!</p>
        <a href="/pets/add" class="btn btn-primary">Add Your First Pet</a>
    </div>
<% } else { %>
    <div class="pet-grid">
        <% pets.forEach(pet => { %>
            <div class="pet-card">
                <div class="pet-card-header">
                    <h3><%= pet.name %></h3>
                    <span class="pet-type"><%= pet.type %></span>
                </div>
                <div class="pet-card-body">
                    <% if (pet.breed) { %>
                        <p><strong>Breed:</strong> <%= pet.breed %></p>
                    <% } %>
                    <% if (pet.age) { %>
                        <p><strong>Age:</strong> <%= pet.age %> years</p>
                    <% } %>
                    <% if (pet.weight) { %>
                        <p><strong>Weight:</strong> <%= pet.weight %> kg</p>
                    <% } %>
                    <p><strong>Last Fed:</strong> <%= new Date(pet.lastFed).toLocaleDateString() %></p>
                </div>
                <div class="pet-card-actions">
                    <a href="/pets/<%= pet._id %>" class="btn btn-sm btn-outline">View</a>
                    <a href="/pets/edit/<%= pet._id %>" class="btn btn-sm btn-outline">Edit</a>
                    <form action="/pets/<%= pet._id %>?_method=DELETE" method="POST" class="delete-form">
                        <button type="submit" class="btn btn-sm btn-danger" 
                                onclick="return confirm('Are you sure you want to delete this pet?')">
                            Delete
                        </button>
                    </form>
                </div>
            </div>
        <% }) %>
    </div>
<% } %>